self.addEventListener("push",(function(t){const n=t.data.json(),i=n.title||"新しいアクションがありました",e={body:n.body||"詳細はクリックして確認してください",icon:"/test-192x192.png",badge:"/test-192x192.png",data:{url:n.url}};t.waitUntil(self.registration.showNotification(i,e))})),self.addEventListener("notificationclick",(function(t){t.notification.close(),t.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((()=>{if(clients.openWindow)return clients.openWindow(t.notification.data.url)})))}));